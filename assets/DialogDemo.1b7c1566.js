let e=document.createElement("style");e.innerHTML='.pipi-dialog{background:#fff;border-radius:4px;box-shadow:0 1px 3px rgba(0,0,0,.3);min-width:15em;max-width:100%;width:30%;margin:15vh auto 50px}.pipi-dialog-overlay{width:100%;height:100%;position:fixed;top:0;left:0;z-index:10;background:rgba(0,0,0,.3)}.pipi-dialog-wrapper{position:fixed;z-index:11;top:0;left:0;right:0;bottom:0}.pipi-dialog>header{padding:16px;border-bottom:1px solid #d9d9d9;display:flex;align-items:center;justify-content:space-between;font-size:18px}.pipi-dialog>header>.pipi-dialog-close{display:inline-block;width:1em;height:1em;position:relative;cursor:pointer}.pipi-dialog>header>.pipi-dialog-close:hover:after,.pipi-dialog>header>.pipi-dialog-close:hover:before{background:#40a9ff}.pipi-dialog>header>.pipi-dialog-close:after,.pipi-dialog>header>.pipi-dialog-close:before{content:"";display:block;position:absolute;height:1px;background:#000;width:100%;top:50%;left:50%;transition:background-color 250ms}.pipi-dialog>header>.pipi-dialog-close:before{transform:translate(-50%,-50%) rotate(45deg)}.pipi-dialog>header>.pipi-dialog-close:after{transform:translate(-50%,-50%) rotate(-45deg)}.pipi-dialog>main{padding:12px 16px}.pipi-dialog>footer>.pipi-dialog-footer{display:block;padding:12px 16px;text-align:right;border-top:1px solid #d9d9d9}',document.head.appendChild(e);import{s as o}from"./DocDemo.860238a3.js";import{s as i}from"./Button.210cebeb.js";import{k as l,d as t,c as n,e as r,l as a,b as p,t as s,g as d,m as c,F as u,i as g,T as f,o as m,f as v,r as b,a as y,w as h,q as k,s as D}from"./index.c20c1ad8.js";var B={name:"Dialog",components:{Button:i},props:{title:{type:String,default:"提示"},visible:{type:Boolean,default:!1},closeOnClickOverlay:{type:Boolean,default:!0},top:{type:String},width:{type:String},appendToBody:{type:Boolean,default:!1}},setup(e,o){const{closeOnClickOverlay:i,top:t,width:n}=e,r=()=>{o.emit("update:visible",!1)},a=l((()=>({width:n,marginTop:t})));return{closeDialog:r,handleClickOverlay:()=>{i&&r()},dialogStyle:a}}};const x=r("div",{class:"pipi-dialog-overlay",style:{"z-index":"12"}},null,-1),C=r("div",{class:"pipi-dialog-overlay"},null,-1);B.render=function(e,o,i,l,v,b){return i.appendToBody?(m(),t(f,{key:0,to:"body"},[i.visible?(m(),n(u,{key:0},[x,r("div",{class:"pipi-dialog-wrapper",onClick:o[1]||(o[1]=c(((...e)=>l.handleClickOverlay&&l.handleClickOverlay(...e)),["self"])),style:{"z-index":"13"}},[r("div",{class:"pipi-dialog",style:a(l.dialogStyle)},[r("header",null,[p(s(i.title)+" ",1),r("span",{class:"pipi-dialog-close",onClick:o[0]||(o[0]=(...e)=>l.closeDialog&&l.closeDialog(...e))})]),r("main",null,[d(e.$slots,"default")]),r("footer",null,[d(e.$slots,"footer")])],4)])],64)):g("v-if",!0)])):!i.appendToBody&&i.visible?(m(),n(u,{key:1},[C,r("div",{class:"pipi-dialog-wrapper",onClick:o[3]||(o[3]=c(((...e)=>l.handleClickOverlay&&l.handleClickOverlay(...e)),["self"]))},[r("div",{class:"pipi-dialog",style:a(l.dialogStyle)},[r("header",null,[p(s(i.title)+" ",1),r("span",{class:"pipi-dialog-close",onClick:o[2]||(o[2]=(...e)=>l.closeDialog&&l.closeDialog(...e))})]),r("main",null,[d(e.$slots,"default")]),r("footer",null,[d(e.$slots,"footer")])],4)])],64)):g("v-if",!0)};var w={components:{Dialog:B,Button:i},setup(){const e=v(!1);return{visible:e,toggle:()=>{e.value=!e.value},ok:()=>{e.value=!1}}}};const _=p("点击显示dialog"),V=r("p",null,"祎",-1),O=r("p",null,"这个字念[yī]，美好的意思 ",-1),T={class:"pipi-dialog-footer"},S=p("取消"),z=p("确定");function j(e){e.__sourceCode='<template>\r\n  <Button level="primary" @click="toggle">点击显示dialog</Button>\r\n  <Dialog v-model:visible="visible" :close-on-click-overlay="false" title="名字自己起" width="300px" top="20vh">\r\n    <p>祎</p>\r\n    <p>这个字念[yī]，美好的意思 </p>\r\n    <template #footer>\r\n      <span class="pipi-dialog-footer">\r\n        <Button @click="visible = false">取消</Button>\r\n        <Button level="primary" @click="ok">确定</Button>\r\n      </span>\r\n    </template>\r\n  </Dialog>\r\n</template>\r\n\r\n<script lang="ts">\r\nimport Button from \'../../lib/Button.vue\'\r\nimport Dialog from \'../../lib/Dialog.vue\';\r\nimport {ref} from \'vue\';\r\n\r\nexport default {\r\n  components: {Dialog, Button},\r\n  setup() {\r\n    const visible = ref(false);\r\n    const toggle = () => {\r\n      visible.value = !visible.value;\r\n    };\r\n    const ok = () => {\r\n      visible.value = false;\r\n    };\r\n    return {visible, toggle, ok};\r\n  }\r\n}\r\n<\/script>',e.__sourceCodeTitle="基本用法"}j(w),w.render=function(e,o,i,l,t,a){const p=b("Button"),s=b("Dialog");return m(),n(u,null,[y(p,{level:"primary",onClick:l.toggle},{default:h((()=>[_])),_:1},8,["onClick"]),y(s,{visible:l.visible,"onUpdate:visible":o[1]||(o[1]=e=>l.visible=e),"close-on-click-overlay":!1,title:"名字自己起",width:"300px",top:"20vh"},{footer:h((()=>[r("span",T,[y(p,{onClick:o[0]||(o[0]=e=>l.visible=!1)},{default:h((()=>[S])),_:1}),y(p,{level:"primary",onClick:l.ok},{default:h((()=>[z])),_:1},8,["onClick"])])])),default:h((()=>[V,O])),_:1},8,["visible"])],64)};var E={components:{Dialog:B,Button:i},setup:()=>({outerVisible:v(!1),innerVisible:v(!1)})};const N=p("点击显示dialog"),U=r("p",null,"剧情歌：",-1),$=r("p",null,[p("剧情歌是一类有别于其他歌曲的一种有具体故事和情境的歌曲，"),r("br"),p("剧情歌会有以叙事为主要目的的歌词和根据情境插入的旁白。"),r("br"),p(" 营造良好的叙事氛围，是剧情歌的一个重要内容。"),r("br"),p("剧情歌是新兴的一种歌曲，它介于歌曲与小说之间。"),r("br"),p(" 一个剧情歌即是一首歌曲又是一个短篇故事，也是受剧情歌爱好者喜欢的原因。")],-1),A={class:"pipi-dialog-footer"},q=p("点击一下，可以打开嵌套的弹窗"),F=r("p",null,"Array.prototype.forEach()",-1),H=r("p",null,"不会改变原数组，除非你在回调函数里面更改原数组",-1),L=r("p",null,"除了抛出异常，否则没有办法跳出或者终止循环",-1),M=r("p",null,"不会对未初始化的值进行任何操作（当它不存在）",-1),G={class:"pipi-dialog-footer"},I=p("关闭");function J(e){e.__sourceCode='<template>\r\n  <Button level="primary" @click="outerVisible = true">点击显示dialog</Button>\r\n  <Dialog v-model:visible="outerVisible" :close-on-click-overlay="false" title="名字自己起" width="50%">\r\n    <p>剧情歌：</p>\r\n    <p>剧情歌是一类有别于其他歌曲的一种有具体故事和情境的歌曲，<br/>剧情歌会有以叙事为主要目的的歌词和根据情境插入的旁白。<br/>\r\n      营造良好的叙事氛围，是剧情歌的一个重要内容。<br/>剧情歌是新兴的一种歌曲，它介于歌曲与小说之间。<br/>\r\n      一个剧情歌即是一首歌曲又是一个短篇故事，也是受剧情歌爱好者喜欢的原因。</p>\r\n    <template #footer>\r\n      <span class="pipi-dialog-footer">\r\n        <Button level="primary" @click="innerVisible = true">点击一下，可以打开嵌套的弹窗</Button>\r\n      </span>\r\n    </template>\r\n  </Dialog>\r\n  <Dialog v-model:visible="innerVisible" :close-on-click-overlay="false" title="名字自己起" append-to-body>\r\n    <p>Array.prototype.forEach()</p>\r\n    <p>不会改变原数组，除非你在回调函数里面更改原数组</p>\r\n    <p>除了抛出异常，否则没有办法跳出或者终止循环</p>\r\n    <p>不会对未初始化的值进行任何操作（当它不存在）</p>\r\n    <template #footer>\r\n        <span class="pipi-dialog-footer">\r\n          <Button level="primary" @click="innerVisible = false">关闭</Button>\r\n        </span>\r\n    </template>\r\n  </Dialog>\r\n</template>\r\n\r\n<script lang="ts">\r\nimport Button from \'../../lib/Button.vue\';\r\nimport Dialog from \'../../lib/Dialog.vue\';\r\nimport {ref} from \'vue\';\r\n\r\nexport default {\r\n  components: {Dialog, Button},\r\n  setup() {\r\n    const outerVisible = ref(false);\r\n    const innerVisible = ref(false);\r\n    return {outerVisible, innerVisible};\r\n  }\r\n};\r\n<\/script>',e.__sourceCodeTitle="嵌套的dialog"}J(E),E.render=function(e,o,i,l,t,a){const p=b("Button"),s=b("Dialog");return m(),n(u,null,[y(p,{level:"primary",onClick:o[0]||(o[0]=e=>l.outerVisible=!0)},{default:h((()=>[N])),_:1}),y(s,{visible:l.outerVisible,"onUpdate:visible":o[2]||(o[2]=e=>l.outerVisible=e),"close-on-click-overlay":!1,title:"名字自己起",width:"50%"},{footer:h((()=>[r("span",A,[y(p,{level:"primary",onClick:o[1]||(o[1]=e=>l.innerVisible=!0)},{default:h((()=>[q])),_:1})])])),default:h((()=>[U,$])),_:1},8,["visible"]),y(s,{visible:l.innerVisible,"onUpdate:visible":o[4]||(o[4]=e=>l.innerVisible=e),"close-on-click-overlay":!1,title:"名字自己起","append-to-body":""},{footer:h((()=>[r("span",G,[y(p,{level:"primary",onClick:o[3]||(o[3]=e=>l.innerVisible=!1)},{default:h((()=>[I])),_:1})])])),default:h((()=>[F,H,L,M])),_:1},8,["visible"])],64)};var K={components:{Button:i},setup:()=>({showDialog:()=>{(e=>{const{title:o,content:i,footer:l}=e,t=document.createElement("div");document.body.appendChild(t);const n=k({render:()=>D(B,{visible:!0,title:o,"onUpdate:visible":e=>{e||(n.unmount(t),t.remove())}},{default:i,footer:l})});n.mount(t)})({title:"剧情歌",content:D("p",{},"剧情歌是新兴的一种歌曲，它介于歌曲与小说之间，一个剧情歌即是一首歌曲又是一个短篇故事")})}})};const P=p("点击显示dialog");function Q(e){e.__sourceCode="<template>\r\n  <Button level=\"primary\" @click=\"showDialog\">点击显示dialog</Button>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport Button from '../../lib/Button.vue';\r\nimport {h} from 'vue';\r\nimport {openDialog} from '../../lib/openDialog';\r\n\r\nexport default {\r\n  components: {Button},\r\n  setup() {\r\n    const showDialog = () => {\r\n      openDialog({\r\n        title: '剧情歌',\r\n        content: h('p', {}, '剧情歌是新兴的一种歌曲，它介于歌曲与小说之间，一个剧情歌即是一首歌曲又是一个短篇故事'),\r\n      });\r\n    };\r\n    return {showDialog};\r\n  }\r\n};\r\n<\/script>",e.__sourceCodeTitle="一句话打开dialog"}Q(K),K.render=function(e,o,i,l,n,r){const a=b("Button");return m(),t(a,{level:"primary",onClick:l.showDialog},{default:h((()=>[P])),_:1},8,["onClick"])};var R={name:"DialogDemo",components:{DocDemo:o},setup:()=>({DialogNormal:w,DialogNest:E,DialogShortcut:K})};const W=r("p",null,[p("在需要打开嵌套的dialog时，在子dialog上使用"),r("code",null,"append-to-body"),p("，一般不建议超过两个dialog")],-1),X=r("p",null,[p("可以用"),r("code",null,"close-on-click-overlay"),p("定义是否需要点击遮罩关闭弹窗")],-1),Y=r("p",null,[p("使用"),r("code",null,"openDialog"),p("方法，实现一句话打开dialog")],-1);R.render=function(e,o,i,l,t,r){const a=b("DocDemo");return m(),n(u,null,[y(a,{component:l.DialogNormal},null,8,["component"]),y(a,{component:l.DialogNest},{description:h((()=>[W,X])),_:1},8,["component"]),y(a,{component:l.DialogShortcut},{description:h((()=>[Y])),_:1},8,["component"])],64)};export{R as default};
